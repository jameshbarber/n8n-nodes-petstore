{"openapi":"3.0.0","info":{"title":"PostAmt API","version":"1.0.0","description":"API for sending templated messages via different channels"},"paths":{"/api/send":{"post":{"summary":"Send a templated message","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"channel":{"type":"string","enum":["email","slack"],"default":"email"},"to":{"type":"object","properties":{"externalRecipientId":{"type":"string","format":"email"},"patientId":{"type":"string"}},"required":["externalRecipientId"]},"from":{"type":"string","format":"email"},"template_id":{"type":"string","enum":["basic_link","confirmation"]},"payload":{"type":"object","additionalProperties":{}}},"required":["to","from","template_id","payload"]}}},"required":true},"responses":{"200":{"description":"Message sent successfully","content":{"application/json":{"schema":{"type":"object","properties":{"data":{},"message":{"type":"string"}},"required":["message"]}}}},"400":{"description":"Invalid request data","content":{"application/json":{"schema":{"type":"object","properties":{"error":{},"message":{"type":"string"}},"required":["message"]}}}},"404":{"description":"Template not found","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"},"message":{"type":"string"}},"required":["error","message"]}}}},"500":{"description":"Server error","content":{"application/json":{"schema":{"type":"object","properties":{"error":{},"message":{"type":"string"}},"required":["message"]}}}}}}}}} 